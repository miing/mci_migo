{% comment %}
Copyright 2010 Canonical Ltd.  This software is licensed under the
GNU Affero General Public License version 3 (see the file  LICENSE).
{% endcomment %}

{% comment %}

This widgets expects `form` to be in context, containing fields named
`password` and `passwordconfirm`.

It assumes that the the form's first non-field error concerns the
passwords, and displays it if present.

{% endcomment %}

{% load i18n %}

<p class="input-row{% if form.password.errors or form.non_field_errors %} haserrors{% endif %}">
    <label for="id_password">{% trans "Choose password" %}</label>
    <br />
    {{ form.password }}
    {% if form.password.errors %}
        <span class="error">{{ form.password.errors|first }}</span>
    {% endif %}
    <span id="password_strength"></span>
    <span class="formHelp">{{ form.password.help_text }}</span>
</p>

<p class="input-row{% if form.passwordconfirm.errors or form.non_field_errors %} haserrors{% endif %}">
    <label for="id_passwordconfirm">{% trans "Retype password" %}</label>
    <br />
    {{ form.passwordconfirm }}
    {% if form.passwordconfirm.errors %}
        <span class="error">
            {{ form.passwordconfirm.errors|first }}
        </span>
    {% endif %}
    {% if form.non_field_errors %}
        <span class="error">{{ form.non_field_errors|first }}</span>
    {% endif %}
</p>
